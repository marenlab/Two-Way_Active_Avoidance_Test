# Two-Way Active Avoidance Test

<<<<<<< HEAD
This toolbox streamlines the **visualization and organization of experimental data** from the **Colbourn active avoidance chamber** by aligning outputs with the distinct event types recorded throughout behavioral sessions.

---

## ðŸ“ Main Script

**Script:** `Avoidance_Analyse.m`  
**Main Purpose:**  
- Analyze one or more `.csv` files.
- Calls the function: `Avoidance_conditioning.m`

**Required Files:**  
- `.csv` files generated by the Colbourn active avoidance chamber.

---

## âš™ï¸ Function: `Avoidance_conditioning`

### **Input**
- `input_settings` â€“ Experimental settings (e.g., thresholds, parameters).  
- `raw_data` â€“ Input dataset from a `.csv` file. Expected columns:

  1. Arbitrary timestamps (not aligned to experiment timeline)  
  2. Time in `MM:SS:FFF` format (minutes/seconds/milliseconds)  
  3. Event labels: `"Entry"` / `"Exit"`  
  4. Numerical labels corresponding to column 5  
  5. Descriptive event labels:
     - `"Acclimatation"`: Baseline period  
     - `"Right/Left Entrance"`: Animal enters the shuttle  
     - `"Right/Left Exit"`: Animal exits the shuttle  
     - `"Pav CS"`: Start of Pavlovian conditioning, followed by an `"US"`  
     - `"CS"`: Conditioned stimulus  
     - `"ITI"`: Inter-trial interval  
     - `"CS Remainder"`: Reinforced CS after `"CS"`  
     - `"after CS"`: Events post-CS Remainder (renamed to `"Silence gap after CS remainder"`)

### **Output**
- `Summary` â€“ All shuttle events recorded in the session.  
- `Intervals` â€“ Time intervals for CS, CS remainder, after-CS, ITI, and US.  
- `Output_Events` â€“ A `{1x3}` cell array:

  | Column | Phase                    |
  |--------|--------------------------|
  | 1      | Acclimation              |
  | 2      | Pavlovian CS             |
  | 3      | CS, US, and ITI (Avoidance phase) |

Each `Output_Events{X}` contains:
- Column 1: Time in session  
- Column 2: Shuttle direction  
- Column 3: Phase (e.g., CS, ITI)  
- Column 4: Description of the phase  
- Column 5: Time delta from the last event  
- Column 6: Description of the preceding event  

---

## ðŸ“Š Script: `Avoidance_stats`

### **Input**
- `Summary` output: contains all shuttles per animal during the conditioning phase.

### **Output**
- `Stats.summary`: A `{1x3}` cell array:

  | Column | Phase                    |
  |--------|--------------------------|
  | 1      | Acclimation              |
  | 2      | Pavlovian CS             |
  | 3      | CS, US, and ITI          |

Each **cell column** corresponds to one animal.  
The animal order is based on the upload folder structure and can be verified via: `header.Filename_csv`.

An additional `.csv` file is generated, where each experimental phase is separated by blank lines.

---

## ðŸ“ˆ Script: `Avoidance_plots`

- Generates basic visualizations based on the structured output.

---

## ðŸ‘¥ Authors

**Flavio Mourao**  
**Samantha Plas**

**Contact:**  
ðŸ“§ mourao.fg@illinois.edu  
ðŸ§  Maren Lab â€“ Beckman Institute for Advanced Science and Technology  
ðŸ« University of Illinois Urbana-Champaign

---

**Started:** April 2025  
**Last updated:** April 2025
=======
This function streamlines the visualization and organization of experimental data from the Colbourn active avoidance chamber by aligning the outputs with distinct event types recorded throughout the session.
<br /> 
------------------
Script: Avoidance_Analyse<br /> 
Main Call<br /> 
â€“ Analyze one or more *.csv files.<br /> 
â€“ This script relies on the following function: Avoidance_conditioning.m<br /> 
<br /> 
Required Files<br /> 
â€“ *.csv files generated by the Colbourn active avoidance chamber.<br /> 
<br /> 
------------------
Function: Avoidance_conditioning<br /> 
<br /> 
INPUT:<br /> 
input_settings â€“ Settings for the experiment (e.g., thresholds, parameters).<br /> 
raw_data â€“ The input dataset from a *.CSV file generated by the Colbourn active avoidance chamber. The spreadsheet consists of five columns:<br /> 
<br /> 
Arbitrary timestamps (no alignment with the time course of the experiment).<br /> 
Time in MM:SS:FFF format (minutes/seconds/milliseconds).<br /> 
Event labels: "Entry" and "Exit" corresponding to the start of periods during programmed stimuli.<br /> 
Numerical labels for the events described in column 5.<br /> 
Descriptive event labels including:<br /> 
â€ƒâ€ƒâ€“ "Acclimatation": Baseline period.<br /> 
â€ƒâ€ƒâ€“ "Right/Left Entrance": Animal enters the shuttle.<br /> 
â€ƒâ€ƒâ€“ "Right/Left Exit": Animal exits the shuttle.<br /> 
â€ƒâ€ƒâ€“ "Pav CS": Start of Pavlovian conditioning, followed by an "US".<br /> 
â€ƒâ€ƒâ€“ "CS": Conditioned stimulus.<br /> 
â€ƒâ€ƒâ€“ "ITI": Inter-trial interval.<br /> 
â€ƒâ€ƒâ€“ "CS Remainder": Reinforcing conditioned stimulus after a "CS".<br /> 
â€ƒâ€ƒâ€“ "after CS": Events occurring after the CS Remainder (renamed to "Silence gap after CS remainder").<br /> 
<br /> 
OUTPUT:<br /> 
Summary â€“ A summary of all shuttle events during the experimental session.<br /> 
Intervals â€“ Time intervals corresponding to each CS, CS remainder, after-CS, ITI, and US.<br /> 
Output_Events â€“ Annotated events for each phase, organized in a cell array:<br /> 
â€ƒâ€ƒâ€¢ Column 1: Acclimation phase.<br /> 
â€ƒâ€ƒâ€¢ Column 2: Pavlovian CS phase.<br /> 
â€ƒâ€ƒâ€¢ Column 3: CS, US, and ITI periods.<br /> 
<br /> 
For Output_Events{X}, each spreadsheet consists of:<br /> 
â€“ Column 1: Time course of the experiment.<br /> 
â€“ Column 2: Shuttle direction.<br /> 
â€“ Column 3: Phase during which the shuttle occurred.<br /> 
â€“ Column 4: Description of the phase.<br /> 
â€“ Column 5: Delta t (time difference) from the previous event to the shuttle event.<br /> 
â€“ Column 6: Description of the event that preceded the shuttle event.<br /> 
<br /> 
------------------
Script: Avoidance_stats<br /> 
<br /> 
INPUT:<br /> 
The input dataset comes from the Summary output, which includes all total shuttles from the experimental phase for all animals.<br /> 
<br /> 
OUTPUT:<br /> 
Stats.summary â†’ A 1x3 cell array, where:<br /> 
â€“ Column 1 â†’ Acclimation phase<br /> 
â€“ Column 2 â†’ Pavlovian CS phase<br /> 
â€“ Column 3 â†’ CS, US, and ITI periods of the avoidance session<br /> 
<br /> 
Within each cell, each column corresponds to one animal for the respective event.<br /> 
The order of animals follows the structure of the original upload folder and can be verified using: header.Filename_csv<br /> 
<br /> 
The output also includes a *.csv file containing all data, with each experimental phase separated by blank lines.
<br /> 
------------------
Script: Avoidance_plots Script<br /> 
Just basic plots<br /> 
<br /> 
------------------
Author:<br /> 
Flavio Mourao and Samantha Plas<br /> 
<br /> 
Contact:<br /> 
Email: mourao.fg@illinois.edu<br /> 
Maren Lab â€“ Beckman Institute for Advanced Science and Technology<br /> 
University of Illinois Urbana-Champaign.<br /> 
<br /> 
Started in: 04/2025<br /> 
Last update: 04/2025<br /> 
>>>>>>> 1a650ac79cbf7b95f6771aa4a2a0d9e4d641bc94
